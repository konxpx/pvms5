//销售登录
function f1() {
    let tmp = document.getElementById("username");
    tmp.value = "";
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//仓管登录
function f2() {
    let tmp = document.getElementById("username");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("adminname");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("code");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("password");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login2");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//销售注册
function f3() {
    let tmp = document.getElementById("username");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("newPassword");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//销售改密
function f4() {
    let tmp = document.getElementById("username");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("npassword");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("modify");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//经理登录
function f5() {
    let tmp = document.getElementById("username");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("mpassword");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login3");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("goto");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//顾客登录
function f6() {
    let tmp = document.getElementById("username");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("cusname");
    tmp.value = "";
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("cuspass");
    tmp.value = "";
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("cusid");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("cusphone");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login4");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("register2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("cusnewpass");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("modify2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("goto2");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//顾客注册
function f7() {
    let tmp = document.getElementById("username");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("cusname");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("cusid");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("cuspass");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("cusphone");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("register2");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("login4");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("cusnewpass");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("modify2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("goto2");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}
//顾客改密
function f8() {
    let tmp = document.getElementById("username");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("adminname");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("managername");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("code");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("password");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("mpassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("newPassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("npassword");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("cusname");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("cuspass");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("cusnewpass");
    tmp.removeAttribute("hidden");
    tmp.value = "";
    tmp = document.getElementById("modify2");
    tmp.removeAttribute("hidden");
    tmp = document.getElementById("cusphone");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("cusid");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("goto2");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("modify");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("register");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login4");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("login2");
    tmp.setAttribute("hidden", "true")
    tmp = document.getElementById("login3");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("goto");
    tmp.setAttribute("hidden", "true");
    tmp = document.getElementById("reset");
    tmp.setAttribute("hidden", "true")

}

//销售登录
function checkLogin() {
    if (!checkName()) return;
    if (!checkPwd()) return;
    checkLogin1();
}
//仓管登录
function checkLogin2() {
    if (!checkAdmin()) return;
    if (!checkCode()) return;
    checkLogin5();
}
//经理登录
function checkLogin3() {
    if (!checkmname()) return;
    if (!checkmpass()) return;
    checkLogin6();
}
//顾客登录
function checkLogin4() {
    if (!checkName1()) return;
    if (!checkPwd1()) return;
    checkLogin8();
}
//销售注册
function checkReg() {
    if (!checkName()) return;
    if (!checkPwd()) return;
    if (!checkNewPwd()) return;
    checkReg1();
}
//顾客注册
function checkReg2() {
    if (!checkName1()) return;
    if (!checkPwd1()) return;
    if (!checkNewPwd1()) return;
    checkReg3();
}
//销售改密
function checkMod() {
    if (!checkName()) return;
    if (!checkPwd()) return;
    if (!checknpw()) return;
    checkMod1();
}
//顾客改密
function checkMod2() {
    if (!checkName1()) return;
    if (!checkPwd1()) return;
    if (!checknpw2()) return;
    checkMod3();
}
//获取id
function my(id) {
    return document.getElementById(id);
}
//跳转顾客
function gotocus(){
    my("id2").removeAttribute("hidden");
    my("id1").setAttribute("hidden", "true");
    f6();
}
//跳转销售
function gotosale(){
    my("id1").removeAttribute("hidden");
    my("id2").setAttribute("hidden", "true");
    f1();
}

// 销售人员登录
function checkLogin1() {
    var postObj = {
        "sale_account": document.getElementById('username').value,
        "sale_password": document.getElementById('password').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/salesmanLogin';
    xhr.open('post', url, true);
    xhr.setRequestHeader("content-type", "application/json")
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            var tz = JSON.parse(xhr.response)
            // window.alert(xhr.response);
            if (tz['code'] === 200) {
                window.alert("登录成功！");
                window.location.href = 'http://localhost:8081/#/HomeView1';
                sessionStorage.setItem("account", tz['account']);
                sessionStorage.setItem("token", tz['token']);
            }
            else {
                window.alert("用户名或密码错误！");
            }
        }
    }

}
//顾客登陆
function checkLogin8() {
    var postObj = {
        "cus_account": document.getElementById('cusname').value,
        "cus_password": document.getElementById('cuspass').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/customerLogin';
    xhr.open('post', url, true);
    xhr.setRequestHeader("content-type", "application/json")
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            var tz = JSON.parse(xhr.response)
            // window.alert(xhr.response);
             if (tz['code'] === 200) {
                 window.alert("登录成功！");
                window.location.href = 'http://localhost:8081/sale/HomeView4.html';
                sessionStorage.setItem("account", tz['account']);
                sessionStorage.setItem("token", tz['token']);
             }
             else {
                 window.alert("用户名或密码错误！");
             }
        }
    }

}
// 仓库管理员登录
function checkLogin5() {
    var postObj = {
        "rep_account": document.getElementById('adminname').value,
        "rep_password": document.getElementById('code').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/repoLogin';
    xhr.open('POST', url, true);
    xhr.setRequestHeader("Content-type", "application/json", "charset=utf-8");
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            var tz = JSON.parse(xhr.response)
            // window.alert(xhr.response);
            if (tz['code'] === 200) {
                window.alert("登录成功！");
                window.location.href = 'http://localhost:8081/#/HomeView3';
                sessionStorage.setItem("account", tz['account']);
                sessionStorage.setItem("token", tz['token']);
            }
            else {
                window.alert("用户名或密码错误！");
            }
        }
    }
}
// 经理登录
function checkLogin6() {
    var postObj = {
        "s_account": document.getElementById('managername').value,
        "s_password": document.getElementById('mpassword').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/managerLogin';
    xhr.open('POST', url, true);
    xhr.setRequestHeader("Content-type", "application/json", "charset=utf-8");
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            var tz = JSON.parse(xhr.response)
            // window.alert(xhr.response);
            if (tz['code'] === 200) {
                window.alert("登录成功！");
                window.location.href = 'http://localhost:8081/#/HomeView2';
                sessionStorage.setItem("account", tz['account']);
                sessionStorage.setItem("token", tz['token']);
            }
            else {
                window.alert("用户名或密码错误！");
            }
        }
    }
}

//销售注册
function checkReg1() {
    var postObj = {
        "sale_account": document.getElementById('username').value,
        "sale_password": document.getElementById('password').value,
        "sale_phone": document.getElementById('newPassword').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/salesmanRegister';
    xhr.open('POST', url, true);
    xhr.setRequestHeader("Content-type", "application/json", "charset=utf-8");
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            window.alert(xhr.response);
        }
    }
}
//顾客注册
function checkReg3() {
    var postObj = {
        "cus_account": document.getElementById('cusname').value,
        "cus_password": document.getElementById('cuspass').value,
        "cus_phone": document.getElementById('cusphone').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/customerRegister';
    xhr.open('POST', url, true);
    xhr.setRequestHeader("Content-type", "application/json", "charset=utf-8");
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            window.alert(xhr.response);
        }
    }
}

//销售改密
function checkMod1() {
    var postObj = {
        "sale_account": document.getElementById('username').value,
        "oldPwd": document.getElementById('password').value,
        "newPwd": document.getElementById('npassword').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/salesmanChangePwd';
    xhr.open('POST', url, true);
    xhr.setRequestHeader("Content-type", "application/json", "charset=utf-8");
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {

            window.alert(xhr.response);
        }
    }
}
//顾客改密
function checkMod3() {
    var postObj = {
        "cus_account": document.getElementById('cusname').value,
        "oldPwd": document.getElementById('cuspass').value,
        "newPwd": document.getElementById('cusnewpass').value,
    };
    var xhr = new XMLHttpRequest();
    var url;
    // url = 'http://127.0.0.1:9999/api/v1/user/register';
    url = '/index/customerChangePwd';
    xhr.open('POST', url, true);
    xhr.setRequestHeader("Content-type", "application/json", "charset=utf-8");
    var data = JSON.stringify(postObj);
    xhr.send(data);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {

            window.alert(xhr.response);
        }
    }
}


function checkPwd() {
    let password = document.getElementById("password");
    let re = /^\w{6,20}$/;

    if (!re.test(password.value)) {
        password.value = "";
        alert("请输入6~20个大小写字母、数字或下划线作为密码！！！");
        return false;
    }
    return true;
}
function checkPwd1() {
    let password = document.getElementById("cuspass");
    let re = /^\w{6,20}$/;

    if (!re.test(password.value)) {
        password.value = "";
        alert("请输入6~20个大小写字母、数字或下划线作为密码！！！");
        return false;
    }
    return true;
}

function checkNewPwd() {
    let password = document.getElementById("newPassword");
    let re = /^[0-9]{8,11}$/;

    if (!re.test(password.value)) {
        password.value = "";
        alert("请输入8~11数字作为手机号");
        return false;
    }
    return true;
}
function checkNewPwd1() {
    let password = document.getElementById("cusphone");
    let re = /^[0-9]{8,11}$/;

    if (!re.test(password.value)) {
        password.value = "";
        alert("请输入8~11数字作为手机号");
        return false;
    }
    return true;
}

function checknpw() {
    let password = document.getElementById("npassword");
    let re = /^\w{6,20}$/;

    if (!re.test(password.value)) {
        password.value = "";
        alert("请输入6~20个大小写字母、数字或下划线作为密码！！！");
        return false;
    }
    return true;
}
function checknpw2() {
    let password = document.getElementById("cusnewpass");
    let re = /^\w{6,20}$/;

    if (!re.test(password.value)) {
        password.value = "";
        alert("请输入6~20个大小写字母、数字或下划线作为密码！！！");
        return false;
    }
    return true;
}

function checkName() {
    let name = document.getElementById("username");
    let re = /^[a-zA-Z]{4,12}$/;

    if (!re.test(name.value)) {
        name.value = "";
        alert("请输入4~12个英文大小写字母作为用户名！！！");
        return false;
    }
    return true;
}
function checkName1() {
    let name = document.getElementById("cusname");
    let re = /^[a-zA-Z]{4,12}$/;

    if (!re.test(name.value)) {
        name.value = "";
        alert("请输入4~12个英文大小写字母作为用户名！！！");
        return false;
    }
    return true;
}


function checkAdmin() {
    let admin = document.getElementById("adminname");
    let re = /^[a-zA-Z]{4,12}$/;

    if (!re.test(admin.value)) {
        admin.value = "";
        alert("请输入4~12个英文大小写字母作为用户名！！！");
        return false;
    }
    return true;
}
function checkmname() {
    let admin = document.getElementById("managername");
    let re = /^[a-zA-Z]{4,12}$/;

    if (!re.test(admin.value)) {
        admin.value = "";
        alert("请输入4~12个英文大小写字母作为用户名！！！");
        return false;
    }
    return true;
}

function checkCode() {
    let code = document.getElementById("code");
    let re = /^\w{6,20}$/;

    if (!re.test(code.value)) {
        code.value = "";
        alert("请输入6~20个大小写字母、数字或下划线作为密码！！！");
        return false;
    }
    return true;
}
function checkmpass() {
    let code = document.getElementById("mpassword");
    let re = /^\w{6,20}$/;

    if (!re.test(code.value)) {
        code.value = "";
        alert("请输入6~20个大小写字母、数字或下划线作为密码！！！");
        return false;
    }
    return true;
}


